(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["App4About"],{

/***/ "./src/App4About.js":
/*!**************************!*\
  !*** ./src/App4About.js ***!
  \**************************/
/*! exports provided: init, animate, deinit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"animate\", function() { return animate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deinit\", function() { return deinit; });\n/* harmony import */ var _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/three.module.js */ \"./src/lib/three.module.js\");\n/* harmony import */ var _Render_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Render.js */ \"./src/Render.js\");\n/* harmony import */ var _Main_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Main.js */ \"./src/Main.js\");\n\r\n\r\n\r\n\r\n//pass in name, and a pointer to a complete function which dictates everything has loaded, \r\n//we keep track inside the mini class by counting  resources and incrementing till count is complete then, complte()\r\n//animate is called every render, deint... not used yet\r\n\r\nlet portrait;\r\nlet eye\r\nlet eyeTimer=0;\r\n\r\nfunction init(index,dom,complete) {\r\n\tlet scene=new _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__[\"Scene\"]();\r\n\tvar ambientLight = new _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__[\"AmbientLight\"](0xffffff); // soft white light\r\n    scene.add(ambientLight);\r\n    var sunLight = new _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__[\"DirectionalLight\"](0xffffff, 0.6); //DirectionalLight\r\n    sunLight.position.set(-1, -6, 10);\r\n    scene.add(sunLight);\r\n\t_Render_js__WEBPACK_IMPORTED_MODULE_1__[\"loadModel\"]('assets/portrait.glb', function(m) {\r\n        portrait = m;\r\n        m.position.set(0, 0, 0)\r\n        m.scale.set(20, 20, 20)\r\n\r\n        //m.rotation.y = -Math.PI / 2 //pi2 to pi\r\n        scene.add(m);\r\n        portrait.children.forEach(c=>{\r\n        \tif(c.name==\"Eye\")\r\n        \t\teye=c;\r\n        })\r\n        complete();\r\n\r\n        window.portrait=portrait\r\n    })\r\n     //import( /* webpackChunkName: \"App4About\" */ './about.html').then(module=>{\r\n    // \tconsole.log('here')\r\n    // \tconsole.log(module)\r\n   // })\r\n    //require('html-loader!./about.html');\r\n\r\n    fetch('/about').then(function (response) {\r\n\t\treturn response.text();\r\n\t}).then(function (html) {\r\n\t\t// This is the HTML from our response as a text string\r\n\t\t\r\n\t\tdom.innerHTML+=html\r\n\t\tinitAbout(dom)\r\n\t\t//console.log(html);\r\n\t}).catch(function (err) {\r\n\t\t// There was an error\r\n\t\tconsole.warn('Something went wrong.', err);\r\n\t});\r\n\r\n    return scene;\r\n}\r\n\r\nfunction animate(delta){\r\n\t\r\n\tif(portrait){\r\n\t\tlet pos=_Main_js__WEBPACK_IMPORTED_MODULE_2__[\"getPos\"]()\r\n\t\tportrait.rotation.y=(-.25+pos.x/2.0)*Math.PI\r\n\t\tportrait.rotation.x=(.375+pos.y/4.0)*Math.PI\r\n\t\tif(eye){\r\n\t\t\teyeTimer++;\r\n\t\t\tif(eyeTimer>400 && eyeTimer<420){\r\n\r\n\t\t\t\tlet v\r\n\t\t\t\tif(eyeTimer>410)\r\n\t\t\t\t\tv=(eyeTimer-410)/10\r\n\t\t\t\telse\r\n\t\t\t\t\tv=(1-(eyeTimer-400)/10)\r\n\t\t\t\teye.scale.set(1,v,1)\r\n\r\n\t\t\t}else if(eyeTimer>=420)\r\n\t\t\t\teyeTimer=0;\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n}\r\n\r\nfunction deinit(){\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nlet mainDom\r\nlet main;\r\nlet overlay;\r\nlet resizeTimer;\r\nlet px = 0;\r\nlet moveTarget;\r\nlet currentSection\r\nlet clickerOverlay;\r\n\r\nfunction initAbout(dom) {\r\n    main = dom.querySelector('main')\r\n    let underlay = main.querySelector('.portfolio-underlay')\r\n    overlay = main.querySelector('.portfolio-overlay')\r\n    clickerOverlay = main.querySelector('.portfolio-clicker')\r\n\r\n    main.querySelectorAll('section').forEach((section, i) => {\r\n        let holder = document.createElement('div')\r\n        holder.className = 'section-holder'\r\n        holder.id = 'portfolio-section-holder' + i;\r\n        section.id = 'portfolio-section' + i;\r\n        underlay.appendChild(holder)\r\n        section.tabIndex = i\r\n        //holder.appendChild(section)\r\n\r\n        section.className = 'shrink'\r\n        //section.remove();\r\n\r\n        section.addEventListener(\"focus\", ev => {\r\n            selectSection(ev.target)\r\n        });\r\n\r\n        section.addEventListener('click', ev => {\r\n            selectSection(section)\r\n\r\n        })\r\n        clickerOverlay.addEventListener('click', ev => {\r\n            closeAll();\r\n        })\r\n        /*\r\n        section.addEventListener('pointerdown',ev=>{\r\n        \tmoveTarget=section\r\n        \tpx=ev.clientX\r\n        })\r\n        window.addEventListener('pointerup',ev=>{\r\n        \t//if(moveTarget)\r\n\r\n        \tmoveTarget=null;\r\n\r\n        })\r\n\r\n        section.addEventListener('pointermove',ev=>{\r\n        \tif(moveTarget && moveTarget==section){\r\n        \t\tlet x=ev.clientX\r\n\r\n        \t\tlet vx=x-px;\r\n        \t\tconsole.log(vx)\r\n        \t\tpx=x;\r\n        \t\tif(Math.abs(vx)>20)\r\n        \t\t\tcloseAll();\r\n        \t}\r\n        })*/\r\n\r\n        /*\r\n        //maybe this isnt a good idea after all\r\n        section.addEventListener('scroll', ev=>{\r\n            let element = event.target;\r\n            if (element.scrollHeight - element.scrollTop === element.clientHeight)\r\n            {\r\n                console.log('bottom');\r\n                if(section.nextElementSibling==null)\r\n                \tselectSection( section.parentElement.firstElementChild)\r\n                else\r\n               \t\tselectSection( section.nextElementSibling)\r\n            }\r\n        });*/\r\n\r\n\r\n\r\n    })\r\n    setTimeout(function() { fit() }, 1); //make sure DOM is done\r\n    let portraitHolder = main.querySelector('.portrait-holder')\r\n    let portfolioHolder=main.querySelector('.portfolio-section-block')\r\n    portfolioHolder.addEventListener('scroll',ev=>{\r\n    \tif(ev.target.scrollTop>0){\r\n    \t\tportraitHolder.style.height='128px';\r\n    \t\tportraitHolder.style.transform='scale(0.5,0.5)'\r\n            portfolioHolder.style.height='calc(100% - 128px)'\r\n    \t}else{\r\n            portraitHolder.style.height=''\r\n            portraitHolder.style.transform=''\r\n            portfolioHolder.style.height=''\r\n        }\r\n    })\r\n    window.addEventListener('keydown', ev => {\r\n        /*if(ev.which==32)\r\n        \tfit();*/\r\n        console.log(ev.which)\r\n\r\n        if (currentSection) {\r\n            if (ev.which == 27) {\r\n                closeAll();\r\n            } else if (ev.which == 37) { //left\r\n                if (currentSection.previousElementSibling == null || currentSection.previousElementSibling == clickerOverlay)\r\n                    selectSection(currentSection.parentElement.lastElementChild)\r\n                else\r\n                    selectSection(currentSection.previousElementSibling)\r\n            } else if (ev.which == 39 || ev.which == 32) { //right\r\n                if (currentSection.nextElementSibling == null)\r\n                    selectSection(currentSection.parentElement.children[1])\r\n                else\r\n                    selectSection(currentSection.nextElementSibling)\r\n            }\r\n        } else if (ev.which == 27 || ev.which == 39 || ev.which == 32) {\r\n            selectSection(main.querySelector('section'))\r\n        }\r\n\r\n\r\n    })\r\n    window.addEventListener('resize', ev => {\r\n        if (resizeTimer)\r\n            clearTimeout(resizeTimer)\r\n        resizeTimer = setTimeout(function() {\r\n            unhideOverlay();\r\n        }, 200)\r\n        hideOverlay();\r\n    })\r\n}\r\n\r\nfunction selectSection(section) {\r\n    if (section) {\r\n        main.querySelectorAll('section').forEach(s => {\r\n            if (s.className != 'shrink') {\r\n                s.className = 'shrink'\r\n            }\r\n        })\r\n\r\n        section.className = ''\r\n        section.style.left = '50%';\r\n        let sHeight=section.parentElement.parentElement.scrollTop\r\n        let height=section.parentElement.parentElement.offsetHeight\r\n        section.style.top = ((height/2 +sHeight)) +'px';\r\n        section.focus();\r\n        fit();\r\n        currentSection = section;\r\n        clickerOverlay.classList.add('clicker-active');\r\n    } else\r\n        closeAll();\r\n\r\n}\r\n\r\nfunction fit() {\r\n    let holders = main.querySelectorAll('.section-holder')\r\n    main.querySelectorAll('section').forEach((section, i) => {\r\n        section.scrollTo(0, 0)\r\n        if (section.className == 'shrink') {\r\n            let holder = holders[i]\r\n            section.style.left = holder.offsetLeft + 'px';\r\n            section.style.top = holder.offsetTop + 'px';\r\n            section.style.zIndex = 0;\r\n        } else\r\n            section.style.zIndex = 3;\r\n    });\r\n    clickerOverlay.style.zIndex = 2;\r\n}\r\n\r\nfunction closeAll() {\r\n    main.querySelectorAll('section').forEach(s => {\r\n        if (s.className != 'shrink') {\r\n            s.className = 'shrink'\r\n        }\r\n    })\r\n    fit();\r\n    currentSection = null;\r\n    clickerOverlay.classList.remove('clicker-active');\r\n}\r\n\r\nfunction hideOverlay() {\r\n    overlay.style.opacity = 0;\r\n\r\n}\r\n\r\nfunction unhideOverlay() {\r\n    fit();\r\n    overlay.style.opacity = 1;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack:///./src/App4About.js?");

/***/ }),

/***/ "./src/Render.js":
/*!***********************!*\
  !*** ./src/Render.js ***!
  \***********************/
/*! exports provided: init, getAlphaCanvas, getBetaCanvas, bufferPrint, loadModel, flipScene, specterMaterial, resize */
/***/ (function(module, exports) {

eval("throw new Error(\"Module parse failed: Unexpected token (609:0)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|     if(scene != undefined && scene != 'pend' && scene.open) \\n| \\n> }\\n| var activeScene = 0;\\n| var activeModule;\");\n\n//# sourceURL=webpack:///./src/Render.js?");

/***/ })

}]);